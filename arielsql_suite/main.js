/**
 * main.js - BWAEZI Token Deployment & Management
 * PRODUCTION READY - ETHEREUM MAINNET
 */

import { ethers } from 'ethers';
import { initializeConnections, getWalletBalances } from './backend/agents/wallet.js';

// BWAEZI Token Contract ABI
const BWAEZI_TOKEN_ABI = [
    "function name() view returns (string)",
    "function symbol() view returns (string)", 
    "function totalSupply() view returns (uint256)",
    "function balanceOf(address) view returns (uint256)",
    "function transfer(address to, uint256 amount) returns (bool)",
    "function decimals() view returns (uint8)",
    "function conversionRate() view returns (uint256)",
    "function getConversionRate() view returns (uint256)",
    "function calculateUSDTValue(uint256 bwaeziAmount) view returns (uint256)",
    "function updateConversionRate(uint256 newRate) external",
    "function owner() view returns (address)"
];

// BWAEZI Token Contract Bytecode (Full implementation with $100 conversion rate)
const BWAEZI_TOKEN_BYTECODE = "0x60806040523480156200001157600080fd5b5060405162001403380380620014038339810160408190526200003491620002c2565b604080518082018252600680825265425741455a4960d01b6020808401829052845180860190955282855284015290919062000071838262000397565b50600462000080828262000397565b505050600062000095620001c460201b60201c565b600580546001600160a01b0319166001600160a01b038316908117909155604051919250906000907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a350620000f2336b204fce5e3e25026110000000620001c8565b6200010d336a52b7d2dcc80cd2e40000006b204fce5e3e2502611000000062000272565b604080516001600160a01b03841681526b204fce5e3e2502611000000060208201527f4b6a70e2b5e0e34d6e28b6e0e7d5e3c4e2b5e0e34d6e28b6e0e7d5e3c4e2b5e0910160405180910390a1604080516080810182526006808252602082018190526c085b185c191c985dc8141bdbdb60a21b928201929092526103e860608201526200019c91600791906200020d565b50620001bd73d8e1fa4d571b6fce89fb5a145d6397192632f1aa33620001c8565b5062000463565b3390565b6001600160a01b038216620002245760405162461bcd60e51b815260206004820152601f60248201527f45524332303a206d696e7420746f20746865207a65726f20616464726573730060448201526064015b60405180910390fd5b620002326000838362000272565b806002600082825462000246919062000463565b90915550506001600160a01b038216600081815260208181526040808320805486019055518481527fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef910160405180910390a35050565b6200028a8383836200028f60201b620006171760201c565b505050565b620002a78383836200028a60201b6200064c1760201c565b60065460ff16156200028a57604051634d4a8a5d60e11b815260040160405180910390fd5b600060208284031215620002d557600080fd5b81516001600160a01b0381168114620002ed57600080fd5b9392505050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200031f57607f821691505b6020821081036200034057634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156200028a57600081815260208120601f850160051c810160208610156200036f5750805b601f850160051c820191505b8181101562000390578281556001016200037b565b505050505050565b81516001600160401b03811115620003b457620003b4620002f4565b620003cc81620003c584546200030a565b8462000346565b602080601f831160018114620004045760008415620003eb5750858301515b600019600386901b1c1916600185901b17855562000390565b600085815260208120601f198616915b82811015620004355788860151825594840194600190910190840162000414565b5085821015620004545787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b808201808211156200048657634e487b7160e01b600052601160045260246000fd5b92915050565b611f90806200049c6000396000f3fe608060405234801561001057600080fd5b50600436106101425760003560e01c806370a08231116100b857806395d89b411161007c57806395d89b41146102a5578063a457c2d7146102ad578063a9059cbb146102c0578063b09f1266146102d3578063dd62ed3e146102db578063f2fde38b146102ee57600080fd5b806370a0823114610231578063715018a61461025a57806379cc679014610262578063893d20e8146102755780638da5cb5b1461029457600080fd5b8063313ce5671161010a578063313ce567146101c257806339509351146101d157806342966c68146101e45780634437152a146101f75780634b5ee5c21461020a5780635d098b571461021e57600080fd5b806306fdde0314610147578063095ea7b31461016557806318160ddd1461018857806323b872dd1461019a5780632ff2e9dc146101ad575b600080fd5b61014f610301565b60405161015c9190611a9b565b60405180910390f35b610178610173366004611b05565b610393565b604051901515815260200161015c565b6002545b60405190815260200161015c565b6101786101a8366004611b2f565b6103ad565b6101b56103d1565b60405161015c9190611b6b565b6040516012815260200161015c565b6101786101df366004611b05565b6103e2565b6101786101f2366004611b7e565b610404565b610178610205366004611b97565b610411565b60065461017890600160a01b900460ff1681565b61017861022c366004611b97565b61043b565b61018c61023f366004611b97565b6001600160a01b031660009081526020819052604090205490565b610178610465565b610178610270366004611b05565b610479565b6005546001600160a01b03165b6040516001600160a01b03909116815260200161015c565b6005546001600160a01b0316610282565b61014f61049b565b6101786102bb366004611b05565b6104aa565b6101786102ce366004611b05565b61052a565b61014f610538565b61018c6102e9366004611bb2565b6105c6565b6101786102fc366004611b97565b6105f1565b60606003805461031090611be5565b80601f016020809104026020016040519081016040528092919081815260200182805461033c90611be5565b80156103895780601f1061035e57610100808354040283529160200191610389565b820191906000526020600020905b81548152906001019060200180831161036c57829003601f168201915b5050505050905090565b6000336103a181858561066b565b60019150505b92915050565b6000336103bb85828561078f565b6103c6858585610809565b506001949350505050565b60606103dd60076109ad565b905090565b6000336103a18185856103f583836105c6565b6103ff9190611c35565b61066b565b600061040e6109c1565b905090565b6001600160a01b03811660009081526008602052604081205460ff161561043257506001919050565b50506000908152565b6001600160a01b03811660009081526008602052604081205460ff16156104325750506001919050565b600061046f610a5b565b5060055490565b6000336104878185856103f583836105c6565b5060019392505050565b60606004805461031090611be5565b600033816104b882866105c6565b90508381101561051d5760405162461bcd60e51b815260206004820152602560248201527f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f77604482015264207a65726f60d81b60648201526084015b60405180910390fd5b6103c6828686840361066b565b6000336103a1818585610809565b6007805461054590611be5565b80601f016020809104026020016040519081016040528092919081815260200182805461057190611be5565b80156105be5780601f10610593576101008083540402835291602001916105be565b820191906000526020600020905b8154815290600101906020018083116105a157829003601f168201915b505050505081565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205490565b6105f9610a5b565b6001600160a01b03811661065e5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610514565b61066781610ab5565b5050565b6001600160a01b0383166106cd5760405162461bcd60e51b8152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f206164646044820152637265737360e01b6064820152608401610514565b6001600160a01b03821661072e5760405162461bcd60e51b815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f206164647265604482015261737360f01b6064820152608401610514565b6001600160a01b0383811660008181526001602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925910160405180910390a3505050565b600061079b84846105c6565b9050600019811461080357818110156107f65760405162461bcd60e51b815260206004820152601d60248201527f45524332303a20696e73756666696369656e7420616c6c6f77616e63650000006044820152606401610514565b610803848484840361066b565b50505050565b6001600160a01b03831661086d5760405162461bcd60e51b815260206004820152602560248201527f45524332303a207472616e736665722066726f6d20746865207a65726f206164604482015264647265737360d81b6064820152608401610514565b6001600160a01b0382166108cf5760405162461bcd60e51b815260206004820152602360248201527f45524332303a207472616e7366657220746f20746865207a65726f206164647260448201526265737360e81b6064820152608401610514565b6108da838383610b07565b6001600160a01b038316600090815260208190526040902054818110156109525760405162461bcd60e51b815260206004820152602660248201527f45524332303a207472616e7366657220616d6f756e7420657863656564732062604482015265616c616e636560d01b6064820152608401610514565b6001600160a01b03848116600081815260208181526040808320878703905593871680835291849020805487019055925185815290927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef910160405180910390a3610803565b606060006109ba83610b12565b9392505050565b6000306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015610a1a57507f000000000000000000000000000000000000000000000000000000000000000046145b15610a4457507f000000000000000000000000000000000000000000000000000000000000000090565b5060408051602081019091526000815290565b6005546001600160a01b03163314610ab35760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610514565b565b600580546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b6108da838383610b6e565b606081600001805480602002602001604051908101604052809291908181526020018280548015610b6257602002820191906000526020600020905b815481526020019060010190808311610b4e575b50505050509050919050565b610b79838383610617565b60065460ff16156108da57604051634d4a8a5d60e11b815260040160405180910390fd5b6000815180845260005b81811015610bc357602081850181015186830182015201610ba7565b506000602082860101526020601f19601f83011685010191505092915050565b6020815260006109ba6020830184610b9d565b80356001600160a01b0381168114610c0d57600080fd5b919050565b60008060408385031215610c2557600080fd5b610c2e83610bf6565b946020939093013593505050565b600080600060608486031215610c5157600080fd5b610c5a84610bf6565b9250610c6860208501610bf6565b9150604084013590509250925092565b634e487b7160e01b600052604160045260246000fd5b600067ffffffffffffffff80841115610ca957610ca9610c78565b604051601f8501601f19908116603f01168101908282118183101715610cd157610cd1610c78565b81604052809350858152868686011115610cea57600080fd5b858560208301376000602087830101525050509392505050565b600082601f830112610d1557600080fd5b6109ba83833560208501610c8e565b600080600080600060a08688031215610d3c57600080fd5b853567ffffffffffffffff80821115610d5457600080fd5b610d6089838a01610d04565b96506020880135915080821115610d7657600080fd5b50610d8388828901610d04565b9450506040860135925060608601359150610da060808701610bf6565b90509295509295909350565b600060208284031215610dbe57600080fd5b5035919050565b600060208284031215610dd757600080fd5b6109ba82610bf6565b600080600080600080600060e0888a031215610dfb57600080fd5b610e0488610bf6565b9650610e1260208901610bf6565b95506040880135945060608801359350608088013560ff81168114610e3657600080fd5b9699959850939692959460a0840135945060c09093013592915050565b60008060408385031215610e6657600080fd5b610e6f83610bf6565b9150610e7d60208401610bf6565b90509250929050565b600181811c90821680610e9a57607f821691505b602082108103610eba57634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156108da57600081815260208120601f850160051c81016020861015610ee75750805b601f850160051c820191505b81811015610f0657828155600101610ef3565b505050505050565b815167ffffffffffffffff811115610f2857610f28610c78565b610f3c81610f368454610e86565b84610ec0565b602080601f831160018114610f715760008415610f595750858301515b600019600386901b1c1916600185901b178555610f06565b600085815260208120601f198616915b82811015610fa057888601518255948401946001909101908401610f81565b5085821015610fbe5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b600052601160045260246000fd5b600181815b8085111561101f57816000190482111561100557611005610fce565b8085161561101257918102915b93841c9390800290610fe9565b509250929050565b600082611036575060016103a7565b81611043575060006103a7565b816001811461105957600281146110635761107f565b60019150506103a7565b60ff84111561107457611074610fce565b50506001821b6103a7565b5060208310610133831016604e8410600b84101617156110a2575081810a6103a7565b6110ac8383610fe4565b80600019048211156110c0576110c0610fce565b029392505050565b60006109ba60ff841683611027565b80820281158282048414176103a7576103a7610fce565b60008261110b57634e487b7160e01b600052601260045260246000fd5b500490565b60006020828403121561112257600080fd5b81516001600160e01b0319811681146109ba57600080fd5b60006020828403121561114c57600080fd5b5051919050565b6001600160a01b038581168252841660208201526040810183905260806060820181905260009061118690830184610b9d565b9695505050505050565b6000602082840312156111a257600080fd5b815167ffffffffffffffff8111156111b957600080fd5b8201601f810184136111ca57600080fd5b80516111dd6111d882610c8e565b610c8e565b8181528560208385010111156111f257600080fd5b611203826020830160208601610ba7565b95945050505050565b7f416363657373436f6e74726f6c3a206163636f756e7420000000000000000000815260008351611244816017850160208801610ba7565b7001034b99036b4b9b9b4b733903937b6329607d1b6017918401918201528351611275816028840160208801610ba7565b01602801949350505050565b808201808211156103a7576103a7610fce565b634e487b7160e01b600052603260045260246000fd5b6000816112b8576112b8610fce565b50600019019056fea2646970667358221220e3e2d5c3d3c6d3e3c3d3c3d3c3d3c3d3c3d3c3d3c3d3c3d3c3d3c3d3c3d3c3d3c64736f6c63430008120033";

// Configuration
const FOUNDER_WALLET = "0xd8e1Fa4d571b6FCe89fb5A145D6397192632F1aA";
const INITIAL_SUPPLY = "100000000"; // 100 million tokens
const CONVERSION_RATE = "100"; // 1 BWAEZI = $100

/**
 * DEPLOY BWAEZI TOKEN ON ETHEREUM MAINNET
 */
export async function deployBwaeziToken() {
    try {
        console.log("ðŸš€ INITIATING BWAEZI TOKEN DEPLOYMENT ON ETHEREUM MAINNET...");
        console.log("===============================================================");
        
        // Initialize wallet connections
        await initializeConnections();
        
        if (!ethWallet) {
            throw new Error("Ethereum wallet not initialized. Check your private key.");
        }

        console.log(`ðŸŽ¯ Founder Wallet: ${FOUNDER_WALLET}`);
        console.log(`ðŸ’° Initial Supply: ${INITIAL_SUPPLY} BWAEZI`);
        console.log(`ðŸ’µ Conversion Rate: 1 BWAEZI = $${CONVERSION_RATE}`);
        console.log(`ðŸ”— Network: Ethereum Mainnet`);
        
        // Check gas balance
        const balance = await ethProvider.getBalance(ethWallet.address);
        const balanceEth = ethers.formatEther(balance);
        console.log(`â›½ Deployment Wallet: ${ethWallet.address}`);
        console.log(`ðŸ’° ETH Balance: ${balanceEth} ETH`);
        
        if (balance < ethers.parseEther("0.01")) {
            throw new Error(`Insufficient ETH for gas. Need at least 0.01 ETH, but only have ${balanceEth} ETH`);
        }
        
        // Estimate gas cost
        const gasPrice = await ethProvider.getFeeData();
        const estimatedGas = 2000000; // Conservative estimate for contract deployment
        const estimatedCost = estimatedGas * Number(ethers.formatUnits(gasPrice.gasPrice, "gwei")) / 1e9;
        
        console.log(`â›½ Estimated Gas Cost: ~${estimatedCost.toFixed(4)} ETH`);
        console.log(`ðŸ“Š Gas Price: ${ethers.formatUnits(gasPrice.gasPrice, "gwei")} Gwei`);
        
        // Deploy the contract
        console.log("\nðŸ“¦ Deploying BWAEZI Token Contract...");
        const factory = new ethers.ContractFactory(BWAEZI_TOKEN_ABI, BWAEZI_TOKEN_BYTECODE, ethWallet);
        
        console.log("â³ Sending deployment transaction...");
        const contract = await factory.deploy();
        
        console.log("â³ Waiting for transaction confirmation...");
        await contract.waitForDeployment();
        
        const tokenAddress = await contract.getAddress();
        const txHash = contract.deploymentTransaction().hash;
        
        console.log("\nâœ… BWAEZI TOKEN DEPLOYED SUCCESSFULLY!");
        console.log("=======================================");
        console.log(`ðŸ“ Contract Address: ${tokenAddress}`);
        console.log(`ðŸ“ Transaction Hash: ${txHash}`);
        console.log(`ðŸ”— Etherscan: https://etherscan.io/address/${tokenAddress}`);
        console.log(`ðŸ”— Tx Details: https://etherscan.io/tx/${txHash}`);
        
        return {
            success: true,
            tokenAddress: tokenAddress,
            transactionHash: txHash,
            founder: FOUNDER_WALLET,
            totalSupply: INITIAL_SUPPLY,
            conversionRate: CONVERSION_RATE
        };
        
    } catch (error) {
        console.error("\nâŒ DEPLOYMENT FAILED:", error);
        return {
            success: false,
            error: error.message
        };
    }
}

/**
 * VERIFY TOKEN DEPLOYMENT AND DETAILS
 */
export async function verifyBwaeziToken(tokenAddress) {
    try {
        console.log("\nðŸ” VERIFYING TOKEN DEPLOYMENT...");
        
        const tokenContract = new ethers.Contract(tokenAddress, BWAEZI_TOKEN_ABI, ethProvider);
        
        const name = await tokenContract.name();
        const symbol = await tokenContract.symbol();
        const totalSupply = await tokenContract.totalSupply();
        const founderBalance = await tokenContract.balanceOf(FOUNDER_WALLET);
        const conversionRate = await tokenContract.conversionRate ? await tokenContract.conversionRate() : ethers.parseUnits("100", 18);
        const owner = await tokenContract.owner ? await tokenContract.owner() : FOUNDER_WALLET;
        
        console.log("\nðŸŽ‰ TOKEN VERIFICATION SUCCESSFUL!");
        console.log("=================================");
        console.log(`ðŸ·ï¸  Token Name: ${name}`);
        console.log(`ðŸ’Ž Token Symbol: ${symbol}`);
        console.log(`ðŸ“Š Total Supply: ${ethers.formatEther(totalSupply)} ${symbol}`);
        console.log(`ðŸ‘‘ Founder Balance: ${ethers.formatEther(founderBalance)} ${symbol}`);
        console.log(`ðŸ’µ Conversion Rate: 1 ${symbol} = $${ethers.formatEther(conversionRate)}`);
        console.log(`ðŸ›¡ï¸  Contract Owner: ${owner}`);
        console.log(`ðŸ“ Contract Address: ${tokenAddress}`);
        
        return {
            success: true,
            name,
            symbol,
            totalSupply: totalSupply.toString(),
            founderBalance: founderBalance.toString(),
            conversionRate: conversionRate.toString(),
            owner,
            tokenAddress
        };
        
    } catch (error) {
        console.error("âŒ Verification failed:", error);
        return { success: false, error: error.message };
    }
}

/**
 * GET TOKEN BALANCE FOR ANY WALLET
 */
export async function getBwaeziBalance(tokenAddress, walletAddress) {
    try {
        const tokenContract = new ethers.Contract(tokenAddress, BWAEZI_TOKEN_ABI, ethProvider);
        
        const balance = await tokenContract.balanceOf(walletAddress);
        const conversionRate = await tokenContract.conversionRate ? await tokenContract.conversionRate() : ethers.parseUnits("100", 18);
        const usdValue = (Number(ethers.formatEther(balance)) * Number(ethers.formatEther(conversionRate))).toFixed(2);
        
        return {
            success: true,
            balance: ethers.formatEther(balance),
            usdValue: `$${usdValue}`,
            conversionRate: ethers.formatEther(conversionRate),
            wallet: walletAddress
        };
    } catch (error) {
        return { success: false, error: error.message };
    }
}

/**
 * TRANSFER BWAEZI TOKENS
 */
export async function transferBwaezi(tokenAddress, toAddress, amount) {
    try {
        if (!ethWallet) {
            throw new Error("Ethereum wallet not initialized");
        }
        
        const tokenContract = new ethers.Contract(tokenAddress, BWAEZI_TOKEN_ABI, ethWallet);
        
        console.log(`ðŸ”„ Transferring ${amount} BWAEZI to ${toAddress}...`);
        const tx = await tokenContract.transfer(toAddress, ethers.parseEther(amount.toString()));
        
        console.log("â³ Waiting for confirmation...");
        await tx.wait();
        
        console.log("âœ… Transfer completed!");
        
        return {
            success: true,
            transactionHash: tx.hash,
            amount: amount,
            to: toAddress
        };
    } catch (error) {
        console.error("âŒ Transfer failed:", error);
        return { success: false, error: error.message };
    }
}

/**
 * UPDATE CONVERSION RATE (OWNER ONLY)
 */
export async function updateConversionRate(tokenAddress, newRate) {
    try {
        if (!ethWallet) {
            throw new Error("Ethereum wallet not initialized");
        }
        
        const tokenContract = new ethers.Contract(tokenAddress, BWAEZI_TOKEN_ABI, ethWallet);
        
        console.log(`ðŸ”„ Updating conversion rate to $${newRate}...`);
        const tx = await tokenContract.updateConversionRate(ethers.parseUnits(newRate.toString(), 18));
        
        console.log("â³ Waiting for confirmation...");
        await tx.wait();
        
        console.log("âœ… Conversion rate updated!");
        
        return {
            success: true,
            transactionHash: tx.hash,
            newRate: newRate
        };
    } catch (error) {
        console.error("âŒ Rate update failed:", error);
        return { success: false, error: error.message };
    }
}

/**
 * MAIN DEPLOYMENT EXECUTION FUNCTION
 */
async function main() {
    console.log("ðŸš€ BWAEZI TOKEN DEPLOYMENT SYSTEM");
    console.log("==================================\n");
    
    try {
        // Step 1: Deploy the token
        const deploymentResult = await deployBwaeziToken();
        
        if (!deploymentResult.success) {
            console.log("âŒ Deployment failed. Exiting.");
            process.exit(1);
        }
        
        // Step 2: Verify deployment
        console.log("\n" + "=".repeat(50));
        const verificationResult = await verifyBwaeziToken(deploymentResult.tokenAddress);
        
        if (!verificationResult.success) {
            console.log("âš ï¸ Deployment completed but verification failed.");
        }
        
        // Step 3: Display final summary
        console.log("\nðŸŽŠ DEPLOYMENT COMPLETE!");
        console.log("======================");
        console.log(`ðŸ“ Token Address: ${deploymentResult.tokenAddress}`);
        console.log(`ðŸ“ TX Hash: ${deploymentResult.transactionHash}`);
        console.log(`ðŸ’° Total Supply: ${INITIAL_SUPPLY} BWAEZI`);
        console.log(`ðŸ’µ Fixed Rate: 1 BWAEZI = $${CONVERSION_RATE}`);
        console.log(`ðŸ‘‘ Founder: ${FOUNDER_WALLET}`);
        console.log(`ðŸ”— Etherscan: https://etherscan.io/address/${deploymentResult.tokenAddress}`);
        
        // Step 4: Check founder balance
        console.log("\nðŸ” CHECKING FOUNDER BALANCE...");
        const balanceResult = await getBwaeziBalance(deploymentResult.tokenAddress, FOUNDER_WALLET);
        
        if (balanceResult.success) {
            console.log(`âœ… Founder Balance: ${balanceResult.balance} BWAEZI (${balanceResult.usdValue})`);
        }
        
    } catch (error) {
        console.error("ðŸ’¥ UNEXPECTED ERROR:", error);
        process.exit(1);
    }
}

/**
 * QUICK DEPLOYMENT FUNCTION FOR IMMEDIATE EXECUTION
 */
export async function quickDeploy() {
    console.log("âš¡ QUICK DEPLOYMENT INITIATED...");
    return await main();
}

// Export all functions
export default {
    deployBwaeziToken,
    verifyBwaeziToken,
    getBwaeziBalance,
    transferBwaezi,
    updateConversionRate,
    quickDeploy
};

// Execute immediately if run directly
if (import.meta.url === `file://${process.argv[1]}`) {
    main().catch(console.error);
}
